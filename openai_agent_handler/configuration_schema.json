{
    "$schema": "http://json-schema.org/draft-07/schema#",
    "additionalProperties": true,
    "definitions": {
        "paramSchema": {
            "additionalProperties": true,
            "properties": {
                "description": {
                    "type": "string"
                },
                "items": {
                    "$ref": "#/definitions/paramSchema"
                },
                "properties": {
                    "additionalProperties": {
                        "$ref": "#/definitions/paramSchema"
                    },
                    "type": "object"
                },
                "required": {
                    "items": {
                        "type": "string"
                    },
                    "type": "array"
                },
                "type": {
                    "enum": [
                        "string",
                        "number",
                        "integer",
                        "boolean",
                        "object",
                        "array"
                    ],
                    "type": "string"
                }
            },
            "required": [
                "type"
            ],
            "type": "object"
        },
        "toolParameters": {
            "additionalProperties": true,
            "properties": {
                "properties": {
                    "additionalProperties": {
                        "$ref": "#/definitions/paramSchema"
                    },
                    "type": "object"
                },
                "required": {
                    "items": {
                        "type": "string"
                    },
                    "type": "array"
                },
                "type": {
                    "const": "object"
                }
            },
            "required": [
                "type",
                "properties",
                "required"
            ],
            "type": "object"
        }
    },
    "properties": {
        "max_output_tokens": {
            "description": "Hard cap on tokens in the model’s reply.",
            "minimum": 1,
            "type": "integer"
        },
        "model": {
            "description": "ID of the model that will generate the response (e.g. “gpt-4o” or “gpt-4.1”).",
            "type": "string"
        },
        "openai_api_key": {
            "description": "The API Key of OpenAI.",
            "type": "string"
        },
        "reasoning": {
            "additionalProperties": false,
            "description": "Hints that guide how much deliberation the model should spend.",
            "properties": {
                "effort": {
                    "enum": [
                        "low",
                        "medium",
                        "high"
                    ],
                    "type": "string"
                },
                "summary": {
                    "enum": [
                        "auto",
                        "required",
                        "none"
                    ],
                    "type": "string"
                }
            },
            "type": "object"
        },
        "temperature": {
            "default": 0.8,
            "description": "Sampling temperature; higher values increase randomness.",
            "maximum": 1,
            "minimum": 0,
            "type": "number"
        },
        "text": {
            "additionalProperties": false,
            "description": "Controls structured-output formats such as JSON-Schema validation.",
            "properties": {
                "format": {
                    "additionalProperties": false,
                    "properties": {
                        "name": {
                            "type": "string"
                        },
                        "schema": {
                            "type": "object"
                        },
                        "type": {
                            "enum": [
                                "json_schema",
                                "json_object",
                                "text"
                            ],
                            "type": "string"
                        }
                    },
                    "required": [
                        "type"
                    ],
                    "type": "object"
                }
            },
            "type": "object"
        },
        "tools": {
            "description": "Optional tool declarations (functions, code-interpreter, built-in `web_search_preview`, etc.).",
            "items": {
                "additionalProperties": true,
                "properties": {
                    "description": {
                        "type": "string"
                    },
                    "name": {
                        "type": "string"
                    },
                    "parameters": {
                        "$ref": "#/definitions/toolParameters"
                    },
                    "type": {
                        "enum": [
                            "function",
                            "code_interpreter",
                            "web_search_preview"
                        ],
                        "type": "string"
                    }
                },
                "required": [
                    "type",
                    "name"
                ],
                "type": "object"
            },
            "type": "array"
        },
        "top_p": {
            "default": 1,
            "description": "Nucleus-sampling parameter.",
            "maximum": 1,
            "minimum": 0,
            "type": "number"
        }
    },
    "required": [
        "model",
        "openai_api_key"
    ],
    "title": "OpenAI Configuration Schema",
    "type": "object"
}